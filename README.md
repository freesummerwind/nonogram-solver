# Семестровое домашнее задание по АИСД
## Тема: Программа для решения японских кроссвордов (нонограмм)
Выполнила: Бояркина Елизавета, студент группы ИУ8-51

## Теоретическая часть
Японский кроссворд — головоломка, в которой с помощью цифр зашифровано некоторое изображение. Целью головоломки является 
полное восстановление этого изображения.

Японские кроссворды бывают двух видов — черно-белые и цветные. В черно-белых кроссвордах изображение содержит только 
два цвета — черный (которым картинка и заполняется) и белый (фоновый). В цветных кроссвордах изображение создается 
несколькими цветами на белом фоне.

Числа, указанные слева и сверху у кроссворда — описывают группы закрашенных клеток (идущих подряд, без пропусков) по 
горизонтали и вертикали соответственно. Порядок этих чисел описывает порядок расположения этих групп, но где 
каждая группа начинается и заканчивается — не известно (таким образом, определить их положение и является задачей 
головоломки). Каждое число обозначает отдельную группу заданного размера (т.е. число 3 - обозначает группу из 
трех закрашенных подряд клеток, 1 - группу из одной единственной закрашенной клетки). В черно-белых кроссвордах клетка 
всегда закрашивается черным цветом, в цветных — клетка закрашивается тем цветом, которым помечено число. Между 
группами одного цвета должна быть как минимум одна не закрашенная клетка, между группами разных цветов пустых клеток 
может не быть.

Главным требованием к японским кроссвордам является то, что кроссворд должен иметь единственное логическое решение, 
достижимое без "угадываний" (метода проб и ошибок).

Пример черно-белого кроссворда:

![alt text](pictures/black_and_white.png "Пример черно-белого кроссворда")

Пример цветного кроссворда:

![alt text](pictures/colored.png "Пример цветного кроссворда")

## Формальная постановка задачи
Написать программу, которая будет правильно решать поданную ей на вход корректно составленную нонограмму. В случае, если 
поданная на вход нонограмма не может быть решена, программа должна выдавать сообщение об этом и подавать на выход 
частично решенную нонограмму. При некорректном вводе должно выводиться сообщение об ошибке.

## Форматы входных и выходных данных
На вход программе первым аргументом командной строки подается адрес текстового файла, содержащего описание нонограммы.
Файл должен содержать в себе следующие поля: colors, lines, columns. Поле colors содержит в себе список идентификаторов
цветов, использованных для описания нонограммы (для одноцветной нонограммы нужно указать тот единственный идентификатор,
который будет использован для всех ячеек нонограммы). Идентификаторы вводятся через пробел. Поле lines содержит в себе 
последовательность массивов. Каждый массив содержит в себе описание соответствующей строки: первый массив описывает 
первую строку, второй — вторую и т.д. Каждый массив, описывающий новую строку, записывается с новой строки. Массив 
содержит в себе последовательность слов вида '5r', где 'r' - цвет группы, 5 - ее длина. Поле columns заполняется 
аналогично полю lines, только для столбцов. При этом матрица столбцов транспонируется — первая строка соответствует 
транспонированному первому столбцу, вторая — второму и т.д.
  
Пример корректного входного файла для цветной нонограммы:

```
colors: r b
lines:
2b 1r 1b
1b 1r

2b
3r
columns:
2b 1r
1b 1b 1r
2r 1b 1r
1b 1b
```

Программа выводит текстовый файл с решенным кроссвордом либо сообщение об ошибке. Если файл с решением нужно сохранить, 
то программе на вход нужно подать путь к файлу, в котором нужно сохранить картинку, аргументом -s командной строки. 
Пример корректного ввода:

```
./nonogram-solver input.txt
./nonogram-solver input.txt -s output.txt
```

## План решения
Язык реализации - Python

Идея алгоритма: поочередно проходим строки и столбцы и заполняем матрицу решения в соответствии с имеющейся информацией.
При заполнении какой-либо клетки - добавляем строку и столбец, на пересечении которых она лежит, в очередь. Алгоритм 
завершается, когда заканчивается очередь строк и столбцов, которые нужно проверить. Если при этом заполнена не вся 
матрица решения, то это значит, что нонограмма составлена некорректно и решить ее без метода проб и ошибок невозможно.

Примерная структура программы:
- функция-обработчик входного YAML-файла;
- функция, заполняющая строку (столбец) в соответствии с имеющейся информацией;
- функция, непосредственно решающая нонограмму. Она вызывает функцию заполнения поочередно для строк и столбцов и 
  обновляет очередь из строк и столбцов, пока не будет заполнена вся матрица решений (или пока можно будет получить 
  новую информацию о решении);
- функция, представляющая полученное решение в виде картинки.